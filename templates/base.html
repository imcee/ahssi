<!-- templates/base.html -->
{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %} AHSSI Portal {% endblock %}</title>

    <!-- Data Table -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

    <script type="text/javascript">
    var $d = jQuery.noConflict();

        $d(function(){
            $d('#jquery-datatable-example-no-configuration').DataTable();

            $d('#jquery-datatable-example-enable-disable').DataTable({
                "paging":   true,
                "ordering": false,
                "info":     false
            });


            $d('#jquery-datatable-example-default-ordering-sorting-1').DataTable({
                "order": [[ 1, "asc" ]]
            });
            $d('#jquery-datatable-example-default-ordering-sorting-1').css( 'padding-top', '15px' );


            $d('#jquery-datatable-example-default-ordering-sorting-2').DataTable({
                "order": [[ 2, "asc" ]],
                "searching": true,
                "dom": 'lrtip',
                lengthMenu: [
                    [25, 50, -1],[25, 50, 'All']
                ]

            });
            $d('#jquery-datatable-example-default-ordering-sorting-2').css( 'padding-top', '15px' );

            $d('#jquery-datatable-example-default-ordering-sorting-3').DataTable({
                "order": [[ 3, "desc" ]]
            });
            $d('#jquery-datatable-example-default-ordering-sorting-3').css( 'padding-top', '15px' );

            $d('#jquery-datatable-example-default-ordering-sorting-4').DataTable({
                "order": [[ 4, "desc" ]]
            });

            $d('#jquery-datatable-example-default-ordering-sorting-4').css( 'padding-top', '15px' );

            
        
        });
    </script>


    <!-- css style -->
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">

    <!-- starability -->
    <link rel="stylesheet" href="{% static 'css/starability-all.css' %}"/>

    <!--Font Awesome-->
    <script src="https://kit.fontawesome.com/e09ba023b3.js" crossorigin="anonymous"></script>

    <!--bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Favicon -->
    <link rel="icon" type="image/ico" href="{% static 'img/favicon.ico'%}">

    <!-- select -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" integrity="sha512-2ImtlRlf2VVmiGZsjm9bEyhjGW4dU7B6TNwh/hx/iSByxNENtj3WVE6o/9Lj4TJeVXPi4bnOIMXFIJJAeufa0A==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" integrity="sha512-nMNlpuaDPrqlEls3IX/Q56H36qvBASwb3ipuo3MxeWbsQB1881ox0cRv7UPTgBlriqoynt35KjEwgGUeUXIPnw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Date Picker -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script type="text/javascript">

    var $j = jQuery.noConflict();

    $j(function(){
        $j("#id_date_filter").datepicker({
            changeMonth: true,
            changeYear: true,
            buttonImageOnly: true,
            dateFormat:"yy-mm-dd",
            showOn: 'button',
            buttonImageOnly: true,
            buttonImage: "{% static 'img/calendar.png' %}",
            showButtonPanel: true,
            closeText: 'Clear',
        }).focus(function() {
            var thisCalendar = $(this);
            $j('.ui-datepicker-close').click(function() {
                $j.datepicker._clearDate($j('#id_date_filter'));
            });

    });

    $j("#clearDates").on('click', function () {
        $j("#id_date_filter").datepicker('setDate', null);   
        this.form.submit(); 
        });
    
    });

    


  </script>
    <!-- Date Range Picker -->

    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <script type="text/javascript">
    var $f = jQuery.noConflict();

    $f(function() {

        var start = moment().subtract(30, 'days');
        var end = moment();

        $f('#id_date_picker').daterangepicker({
                //alwaysShowCalendars: true,
                //showDropdowns: true,
                autoUpdateInput: false,
                //startDate: start,
                //endDate: end,
                locale: {
                cancelLabel: "Clear",
                format: "YYYY/MM/DD"
            }
            }, function(start, end, label) {
                console.log('START: ' + start.format('YYYY/MM/DD'))
                console.log('END: ' + end.format('YYYY/MM/DD'))
                $('#id_assignment_date_0').val(start)
                $('#id_assignment_date_1').val(end)

            });
            //$('#id_date_picker').removeAttr('name');

        $f('#id_date_picker').on('apply.daterangepicker', function(ev, picker) {
            console.log(picker.startDate.format('YYYY/MM/DD'))
            $(this).val(picker.startDate.format('YYYY/MM/DD') + ' - ' + picker.endDate.format('YYYY/MM/DD'));
            this.form.submit(); 
        });

        $f('#id_date_picker').on('cancel.daterangepicker', function(ev, picker) {
            $(this).val('');
            picker.setStartDate({})
            picker.setEndDate({})
            this.form.submit();
        });
            

        $f("#clearDates2").on('click', function () {
            $f('#id_date_picker').val('');   

            this.form.submit(); 
        });

        
     

    });

        



    </script>
  </head>
  <body>
    {% include 'navbar.html' %}
        <main>
            {% if user.is_authenticated %}
            <div class="wrapper">
              {% include 'shared/dashboard_sidenav.html' %}
              <div class="workspace">
                {% block adminContent %}

                {% endblock %}
              </div>
            </div>
            {% else %}
            {% block content %}

            {% endblock %}
            {% endif %}

        </main>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <!-- jQuery CDN - Slim version (=without AJAX) 
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>-->
        <script
            src="https://code.jquery.com/jquery-3.6.3.js"
            integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
            crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <!-- Popper.JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
        <!-- Bootstrap JS -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
        <script type="text/javascript">

            $(document).ready(function () {
                $('#menu-toggle-button').on('click', function () {
                    $('#sidebar').toggleClass('active');
                });
            });
        </script>
        <script>
            $(document).ready(function(){
                $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
                    localStorage.setItem('activeTab', $(e.target).attr('href'));
                });
                var activeTab = localStorage.getItem('activeTab');
                if(activeTab){
                    $('#myTab a[href="' + activeTab + '"]').tab('show');
                    $('#navTab a[href="' + activeTab + '"]').tab('show');
                }
            });
        </script>
      </body>
</html>